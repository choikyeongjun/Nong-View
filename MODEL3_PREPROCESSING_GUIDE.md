# π­ Model3 Greenhouse λ°μ΄ν„°μ…‹ μ „μ²λ¦¬ κ°€μ΄λ“

## π“‹ κ°μ”

μ„μλ΅ λ¶„ν• λ `model3_greenhouse` λ°μ΄ν„°μ…‹μ„ **κ³Όν•™μ  λ°©λ²•**μΌλ΅ μ¬κµ¬μ„±ν•λ” κ°€μ΄λ“μ…λ‹λ‹¤.

### π― λ©μ 
- β… **κ³„μΈµν™” λ¶„ν•  (Stratified Split)**: ν΄λμ¤ λΉ„μ¨μ„ μ μ§€ν•λ©΄μ„ λ¶„ν• 
- β… **μ¬ν„μ„± λ³΄μ¥**: λλ¤ μ‹λ“ κ³ μ •μΌλ΅ λ™μΌν• κ²°κ³Ό λ³΄μ¥
- β… **YOLO ν•μ‹**: ν‘μ¤€ YOLO λ””λ ‰ν† λ¦¬ κµ¬μ΅° μƒμ„±
- β… **ν†µκ³„ λ¶„μ„**: μƒμ„Έν• λ°μ΄ν„° λ¶„ν¬ λ¶„μ„

---

## π“ ν„μ¬ λ°μ΄ν„° μƒνƒ

**μ†μ¤ μ„μΉ**: `C:\Users\LX\Nong-View\model3_greenhouse`

```
ν„μ¬ λ¶„ν¬:
- Train: 1,186κ° (80%)
- Val: 148κ° (10%)
- Test: 149κ° (10%)
- μ΄: 1,483κ°

ν΄λμ¤:
- Greenhouse_single (ν΄λμ¤ 0)
- Greenhouse_multi (ν΄λμ¤ 1)
```

**λ¬Έμ μ **: μ„μ λ¶„ν• λ΅ μΈν• ν΄λμ¤ λ¶κ· ν• κ°€λ¥μ„±

---

## π€ μ‚¬μ© λ°©λ²•

### λ°©λ²• 1: Jupyter λ…ΈνΈλ¶ (κ¶μ¥ β­)

**κ°€μ¥ κ°„λ‹¨ν•κ³  ν™•μ‹¤ν• λ°©λ²•μ…λ‹λ‹¤!**

#### 1λ‹¨κ³„: Jupyter Lab μ‹¤ν–‰
```bash
cd C:\Users\LX\Nong-View
jupyter lab
```

#### 2λ‹¨κ³„: λ…ΈνΈλ¶ μ—΄κΈ°
- `model3_greenhouse_preprocessing.ipynb` νμΌ μ—΄κΈ°

#### 3λ‹¨κ³„: μ…€ μ‹¤ν–‰
- μƒλ‹¨μ **"Run All Cells"** λλ” `Shift + Enter`λ΅ μμ°¨ μ‹¤ν–‰
- κ° λ‹¨κ³„λ³„λ΅ κ²°κ³Ό ν™•μΈ κ°€λ¥

#### 4λ‹¨κ³„: κ²°κ³Ό ν™•μΈ
- μ¶λ ¥ λ””λ ‰ν† λ¦¬: `C:\Users\LX\Nong-View\model3_greenhouse_processed`

---

### λ°©λ²• 2: Python μ¤ν¬λ¦½νΈ

Pythonμ΄ μ¬λ°”λ¥΄κ² μ„¤μ •λ κ²½μ°:

```bash
cd C:\Users\LX\Nong-View
python preprocess_model3_greenhouse.py
```

---

## π“ μ¶λ ¥ κµ¬μ΅°

μ¬κµ¬μ„±λ λ°μ΄ν„°μ…‹ κµ¬μ΅°:

```
model3_greenhouse_processed/
β”β”€β”€ data.yaml                 # YOLO μ„¤μ • νμΌ
β”β”€β”€ images/
β”‚   β”β”€β”€ train/               # ν›λ ¨ μ΄λ―Έμ§€ (~1,186κ°)
β”‚   β”β”€β”€ val/                 # κ²€μ¦ μ΄λ―Έμ§€ (~148κ°)
β”‚   β””β”€β”€ test/                # ν…μ¤νΈ μ΄λ―Έμ§€ (~149κ°)
β””β”€β”€ labels/
    β”β”€β”€ train/               # ν›λ ¨ λΌλ²¨
    β”β”€β”€ val/                 # κ²€μ¦ λΌλ²¨
    β””β”€β”€ test/                # ν…μ¤νΈ λΌλ²¨
```

---

## π”¬ κ³Όν•™μ  λ¶„ν•  λ°©λ²•

### κ³„μΈµν™” λ¶„ν•  (Stratified Split)

1. **ν΄λμ¤λ³„ κ·Έλ£Ήν™”**
   - κ° μ΄λ―Έμ§€λ¥Ό μ£Όμ” ν΄λμ¤(dominant class)λ³„λ΅ λ¶„λ¥
   - Greenhouse_singleκ³Ό Greenhouse_multi λ³„λ„ κ΄€λ¦¬

2. **ν΄λμ¤λ³„ λ…λ¦½ λ¶„ν• **
   - κ° ν΄λμ¤μ—μ„ λ…λ¦½μ μΌλ΅ 80:10:10 λΉ„μ¨λ΅ λ¶„ν• 
   - ν΄λμ¤ λΉ„μ¨μ΄ μ „μ²΄ λ°μ΄ν„°μ…‹μ—μ„ μ μ§€λ¨

3. **λλ¤ μ‹λ“ κ³ μ •**
   - `random_seed=42`λ΅ κ³ μ •
   - λ™μΌν• μ΅°κ±΄μ—μ„ ν•­μƒ κ°™μ€ λ¶„ν•  κ²°κ³Ό

4. **μµμΆ… μ…”ν”**
   - κ° λ¶„ν•  μ„ΈνΈλ¥Ό μ…”ν”ν•μ—¬ μμ„ νΈν–¥ μ κ±°

---

## π“ data.yaml νμΌ μ„¤λ…

μƒμ„±λ `data.yaml` νμΌ λ‚΄μ©:

```yaml
path: C:\Users\LX\Nong-View\model3_greenhouse_processed
train: images/train
val: images/val
test: images/test
nc: 2
names:
- Greenhouse_single
- Greenhouse_multi

dataset_info:
  total: 1483
  train: 1186
  val: 148
  test: 149
  augmented: 0

preprocessing:
  method: stratified_split
  train_ratio: 0.8
  val_ratio: 0.1
  test_ratio: 0.1
  random_seed: 42
```

---

## π“ YOLO ν›λ ¨ μμ‹

μ¬κµ¬μ„±λ λ°μ΄ν„°μ…‹μΌλ΅ YOLO ν›λ ¨:

```python
from ultralytics import YOLO

# λ¨λΈ λ΅λ“
model = YOLO('yolo11n.pt')

# ν›λ ¨ μ‹μ‘
results = model.train(
    data='C:/Users/LX/Nong-View/model3_greenhouse_processed/data.yaml',
    epochs=100,
    imgsz=640,
    batch=16,
    name='model3_greenhouse_v1',
    project='runs/train'
)
```

---

## β… κ²€μ¦ μ²΄ν¬λ¦¬μ¤νΈ

μ „μ²λ¦¬ ν›„ ν™•μΈμ‚¬ν•­:

- [ ] `model3_greenhouse_processed` ν΄λ” μƒμ„± ν™•μΈ
- [ ] `data.yaml` νμΌ μƒμ„± ν™•μΈ
- [ ] μ΄λ―Έμ§€ κ°μ ν™•μΈ (train/val/test)
- [ ] λΌλ²¨ νμΌ κ°μ = μ΄λ―Έμ§€ κ°μ ν™•μΈ
- [ ] ν΄λμ¤ λ¶„ν¬κ°€ κ° λ¶„ν• μ—μ„ μ μ‚¬ν•μ§€ ν™•μΈ

---

## π“ ν†µκ³„ λΉ„κµ

### μ „μ²λ¦¬ μ „ (μ„μ λ¶„ν• )
- ν΄λμ¤ κ· ν• λ³΄μ¥ μ—†μ
- μ¬ν„ λ¶κ°€λ¥
- λ¶„ν•  κ·Όκ±° μ—†μ

### μ „μ²λ¦¬ ν›„ (κ³„μΈµν™” λ¶„ν• )
- β… ν΄λμ¤ λΉ„μ¨ μ μ§€
- β… λλ¤ μ‹λ“λ΅ μ¬ν„ κ°€λ¥
- β… κ³Όν•™μ  κ·Όκ±° μλ” λ¶„ν• 
- β… μƒμ„Έν• ν†µκ³„ λ¬Έμ„ν™”

---

## π”§ μ»¤μ¤ν„°λ§μ΄μ§•

### λ¶„ν•  λΉ„μ¨ λ³€κ²½

λ…ΈνΈλ¶ λλ” μ¤ν¬λ¦½νΈμ—μ„ λ‹¤μ κ°’ μμ •:

```python
TRAIN_RATIO = 0.7  # 70%
VAL_RATIO = 0.15   # 15%
TEST_RATIO = 0.15  # 15%
```

### λλ¤ μ‹λ“ λ³€κ²½

λ‹¤λ¥Έ λ¶„ν•  κ²°κ³Όλ¥Ό μ›ν•λ” κ²½μ°:

```python
RANDOM_SEED = 123  # μ›ν•λ” κ°’μΌλ΅ λ³€κ²½
```

---

## β οΈ μ£Όμμ‚¬ν•­

1. **λ°±μ—… κ¶μ¥**
   - μ›λ³Έ `model3_greenhouse` ν΄λ”λ” λ³΄μ΅΄λ¨
   - μƒλ΅μ΄ ν΄λ” `model3_greenhouse_processed`μ— λ³µμ‚¬λ¨

2. **λ””μ¤ν¬ κ³µκ°„**
   - λ™μΌν• μ©λ‰μ μ¶”κ°€ κ³µκ°„ ν•„μ” (~1.5GB)

3. **κΈ°μ΅΄ μ¶λ ¥ ν΄λ”**
   - `model3_greenhouse_processed`κ°€ μ΄λ―Έ μμΌλ©΄ **μ‚­μ  ν›„ μ¬μƒμ„±**λ¨
   - μ¤‘μ”ν• λ°μ΄ν„°κ°€ μλ‹¤λ©΄ λ―Έλ¦¬ λ°±μ—…!

---

## π† λ¬Έμ  ν•΄κ²°

### Q: Jupyter λ…ΈνΈλ¶μ΄ μ‹¤ν–‰λμ§€ μ•μ•„μ”
```bash
# Jupyter μ„¤μΉ
pip install jupyter notebook

# λλ”
pip install jupyterlab
```

### Q: λ¨λ“μ„ μ°Ύμ„ μ μ—†λ‹¤λ” μ—λ¬
```bash
# ν•„μ ν¨ν‚¤μ§€ μ„¤μΉ
pip install pyyaml tqdm
```

### Q: κ²½λ΅ μ¤λ¥κ°€ λ°μƒν•΄μ”
- λ…ΈνΈλ¶μ `SOURCE_DIR`κ³Ό `OUTPUT_DIR` κ²½λ΅λ¥Ό ν™•μΈν•μ„Έμ”
- Windows κ²½λ΅λ” λ°±μ¬λμ‹(`\`)λ¥Ό μ΄μ¤‘μΌλ΅ μ‚¬μ©ν•κ±°λ‚ `r` μ ‘λ‘μ‚¬ μ‚¬μ©

### Q: ν΄λμ¤ λ¶„ν¬κ°€ μ΄μƒν•΄μ”
- κ° λ¶„ν• μ—μ„ ν΄λμ¤ λΉ„μ¨μ΄ κ±°μ λ™μΌν•μ§€ ν™•μΈ
- λ…ΈνΈλ¶μ μµμΆ… μ”μ•½ μ„Ήμ…μ—μ„ μƒμ„Έ ν†µκ³„ ν™•μΈ

---

## π“ μ¶”κ°€ μ •λ³΄

### κ΄€λ ¨ λ¬Έμ„
- [CLAUDE.md](./CLAUDE.md): ν”„λ΅μ νΈ μ „μ²΄ κ°€μ΄λ“
- [best/01_data_processing/](./best/01_data_processing/): κ³ κΈ‰ μ „μ²λ¦¬ μ‹μ¤ν…

### κ°λ°ν€
- **μ‘μ„±μ**: Claude Sonnet
- **λ‚ μ§**: 2025-11-04
- **λ²„μ „**: 1.0.0

---

## π‰ μ™„λ£!

μ „μ²λ¦¬κ°€ μ™„λ£λλ©΄ λ‹¤μ λ‹¨κ³„λ΅ μ§„ν–‰ν•  μ μμµλ‹λ‹¤:

1. β… YOLO λ¨λΈ ν›λ ¨ μ‹μ‘
2. β… ν•μ΄νΌνλΌλ―Έν„° νλ‹
3. β… λ¨λΈ ν‰κ°€ λ° μµμ ν™”
4. β… ν”„λ΅λ•μ… λ°°ν¬

**ν–‰μ΄μ„ λΉ•λ‹λ‹¤! π€**
